"use strict";import*as navigation from"/navigation/navigation.js";class DocumentationNavbar{copyToastContainer;copyToastContent;navbarHeaderMap;anchorsList;constructor(e,t,o){this.copyToastContainer=t,this.copyToastContent=o,this.navbarHeaderMap=e,this.anchorsList=[],this.buildNavbar(),document.addEventListener("DOMContentLoaded",this.highlightVisibleHeader.bind(this)),document.addEventListener("load",this.highlightVisibleHeader.bind(this)),document.addEventListener("scroll",this.highlightVisibleHeader.bind(this)),document.addEventListener("resize",this.highlightVisibleHeader.bind(this))}buildNavbar(){const e=document.createElement("div");e.id="documentation-navbar";const t=document.createElement("nav");t.id="navbar-anchor-container",e.appendChild(t),document.body.appendChild(e);for(const[e,o]of Object.entries(this.navbarHeaderMap))this.anchorsList.push(this.addToDocNavBar(e,o,t,this.copyToastContainer,this.copyToastContent))}addToDocNavBar(e,t,o,n,a){const s=document.createElement("a");return s.classList.add("documentation-nav-links"),s.classList.add("outside-link"),s.innerHTML=t,s.href="./documentation.html#"+e,s.addEventListener("click",(()=>{n.classList.add("show-toast"),a.textContent="Copied to clipboard.",!async function(e){try{await navigator.clipboard.writeText(e)}catch(e){return!1}return!0}(s.href)?a.textContent="Could not copy to clipboard.":a.textContent="Copied to clipboard.",setTimeout((()=>{n.classList.remove("show-toast")}),1525)})),o.appendChild(s),s}highlightVisibleHeader(){let e=[...Object.keys(this.navbarHeaderMap)].map((e=>(e=>document.getElementById(e).getBoundingClientRect().top)(e)));for(let t=e.length-1;t>=0;t--)if(e[t]<=0)return document.querySelectorAll(".highlighted-link").forEach((e=>e.classList.remove("highlighted-link"))),void this.anchorsList[t].classList.add("highlighted-link")}}class ColoredButtonsBar{buttons;currCheckedButtonIndex;constructor(e){this.buttons=e;const t="#reading-modes";e.forEach((e=>{e.classList.add("colored-radios"),e.classList.add("styling-button"),document.querySelector(t).appendChild(e),document.querySelector(t).appendChild(e.styleLabel)})),this.buttons[0].checked=!0,this.currCheckedButtonIndex=0,e.forEach((t=>t.addEventListener("click",(()=>function(t){(function(t){e.forEach(((e,o)=>{e!=t&&0!=o&&e.removeStyles()}))})(t),t.addStyles()}(t)))))}removeAllStyles(){this.buttons.forEach((e=>e.removeStyles()))}toggleReadingModeAll(){this.buttons.forEach((e=>e.classList.toggle("reading-mode")))}resetChecked(){this.buttons[0].checked=!0,this.currCheckedButtonIndex=0}}class ColoredReadingButton extends HTMLInputElement{style;styleLabel;styleQuerySelectors;constructor(e,t,o,n=null){super(),this.type="radio";this.name="colored-radio",this.style=e,this.id=t,this.styleQuerySelectors=["body","h1","h2","h3",".content"],n&&(this.styleQuerySelectors=this.styleQuerySelectors.concat(n)),this.styleLabel=document.createElement("label"),this.styleLabel.htmlFor=t,this.styleLabel.tabIndex=0,this.styleLabel.role="radio",this.styleLabel.ariaLabel=o,this.styleLabel.title=o}removeStyles(){this.styleQuerySelectors.forEach((e=>{document.querySelector(e)&&document.querySelectorAll(e).forEach((e=>e.classList.remove(this.style)))}))}addStyles(){this.styleQuerySelectors.forEach((e=>{document.querySelector(e)&&document.querySelectorAll(e).forEach((e=>e.classList.add(this.style)))}))}}class ReadingModeButton extends HTMLButtonElement{style;active;buttonBar;querySelectorsActivated;constructor(e,t,o,n=null){super(),this.style=e,this.id=t,this.ariaLabel=o,this.active=!1,this.querySelectorsActivated=["body","h1","h2","h3",".content"],n&&(this.querySelectorsActivated=Array.prototype.concat(this.querySelectorsActivated,n));const a=Object.freeze({CLICK:Symbol("CLICK"),MOUSEOVER:Symbol("MOUSEOVER")});let s;this.classList.add("svg-button"),this.addEventListener("click",(()=>{this.classList.contains("blur")||(s!==a.MOUSEOVER?this.active?this.removeStyles(!0):this.addStyles(!0):this.active?this.removeStyles(!0):this.addStyles(!1),this.classList.toggle("reading-mode",!this.active),this.active=!this.active,s=a.CLICK)})),this.addEventListener("mouseover",(()=>{this.active||(this.addStyles(!0),this.classList.toggle("reading-mode",!this.active)),s=a.MOUSEOVER})),this.addEventListener("mouseout",(()=>{this.active||s===a.CLICK||this.removeStyles(!0),this.classList.toggle("reading-mode",this.active)}))}setButtonsBar(e){this.buttonBar=e}addStyles(e){e&&(document.body.classList.add("reading-mode-delay"),document.body.classList.add(this.style)),setTimeout((()=>{this.querySelectorsActivated.forEach((e=>document.querySelectorAll(e).forEach((e=>e.classList.add(this.style))))),e&&document.body.classList.remove("reading-mode-delay")}),200)}removeStyles(e){e&&(document.body.classList.add("reading-mode-delay"),document.body.classList.add(this.style)),setTimeout((()=>{this.querySelectorsActivated.forEach((e=>document.querySelectorAll(e).forEach((e=>e.classList.remove(this.style))))),this.buttonBar.removeAllStyles(),this.buttonBar.resetChecked(),document.body.classList.remove("reading-mode-delay")}),200)}}new Promise(navigation.loadPage).then((e=>{customElements.define("read-button",ReadingModeButton,{extends:"button"}),customElements.define("color-button",ColoredReadingButton,{extends:"input"});const t=document.createElement("h1");t.textContent="Documentation",t.id="documentation-title",e.appendChild(t);const o=document.createElement("aside");o.id="reading-modes";const n=new ColoredReadingButton("reading-mode-dark","black-button","Activate Black Reading Mode",["img",".collapse-button","#top-div","#documentation-navbar",".documentation-content",".hide-item"]),a=new ColoredReadingButton("reading-mode-light","yellow-button","Activate Yellow Reading Mode",["a"]),s=new ColoredReadingButton("reading-mode-dark-gray","dark-gray-button","Activate Blue Reading Mode"),i=new ColoredReadingButton("reading-mode-light-gray","light-gray-button","Activate Gray Reading Mode",["a"]),d=new ReadingModeButton("reading-mode-dark","read-button","Activate reading mode",["img",".collapse-button","#top-div","#documentation-navbar",".documentation-content",".hide-item",".mobile-nav-button"]);document.body.appendChild(d),document.body.appendChild(o);const c=new ColoredButtonsBar([n,s,a,i]);d.setButtonsBar(c),d.addEventListener("click",(()=>{d.classList.contains("blur")||(navigation.closeSidebar(),o.classList.toggle("show"),d.classList.toggle("show"),c.toggleReadingModeAll())})),d.addEventListener("mouseover",navigation.closeSidebar),fetch("documentationPage.json").then((e=>e.json())).then((t=>{document.getElementById("documentation").classList.add("selected-link"),e.classList.add("flex-column");const o=document.createElement("div");o.classList.add("copy-toast-container");const n=document.createElement("div");n.classList.add("copy-toast-content"),o.appendChild(n),document.body.appendChild(o);const a={"how-ftc-game-works":"How an FTC game works","programming-guide":"How do you program for FTC?","cad-guide":"How do you CAD for FTC?","build-guide":"How do you build for FTC?"};new DocumentationNavbar(a,o,n);const s=document.createElement("dialog");s.id="mobile-nav",document.body.appendChild(s);const i=document.createElement("div");i.id="mobile-nav-links",s.appendChild(i);const d=document.createElement("button");d.autofocus=!1,d.id="close-dialog",d.classList.add("svg-button"),d.onclick=h,s.appendChild(d);for(const[e,t]of Object.entries(a))DocumentationNavbar.prototype.addToDocNavBar(e,t,i);new navigation.ItemBuilder(e).buildFromObject(t.Overview).render();const c=new navigation.ItemArray,l=new navigation.ItemArray,r=new navigation.ItemArray;function u(e,t){const o=document.createElement("button");o.ariaLabel="Open Page Navigation",o.classList.add("svg-button"),o.classList.add("mobile-nav-button"),document.querySelectorAll(".documentation-header")[e].insertAdjacentElement("beforeend",o),o.addEventListener("click",m),screen.orientation.addEventListener("change",h),document.querySelector(".navigation").addEventListener("click",(e=>{e.target===s||e.target.classList.contains("mobile-nav-button")||h()}));const n=document.createElement("button");return n.ariaLabel="Collapse Header",document.querySelectorAll(".documentation-header")[e].insertAdjacentElement("beforeend",n),n.classList.add("svg-button"),n.classList.add("collapse-button"),n.addEventListener("click",(()=>{n.classList.toggle("collapse-button-close"),t.slice(2).forEach((e=>{e.toggleHide()}))})),n}function h(){document.body.style.overflow="visible",s.classList.remove("open"),document.querySelector(".navigation").classList.remove("blur"),document.querySelector("#read-button").classList.remove("blur")}function m(){navigation.closeSidebar(),s.classList.add("open"),document.querySelector(".navigation").classList.add("blur"),document.querySelector("#read-button").classList.add("blur"),document.body.style.overflow="hidden"}c.buildPageFromJson(t.Programming,e).render(),l.buildPageFromJson(t.Cad,e).render(),r.buildPageFromJson(t.Building,e).render(),u(0,c),u(1,l),u(2,r)}))}));